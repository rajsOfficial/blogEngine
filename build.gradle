apply plugin: 'war'

//group 'rajproject'
//version '1.0-SNAPSHOT'

buildscript{

    repositories {
        mavenCentral()
    }

    dependencies{
        classpath 'com.google.cloud.tools:appengine-gradle-plugin:+'
    }
}

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile group: 'org.springframework', name: 'spring-webmvc', version: '4.0.0.RELEASE'
    compile group: 'javax.servlet', name: 'servlet-api', version: '2.5'

}


appengine{
    run{
        jvmFlags = ['-Ddatastore.backing_store=../../src/main/webapp/WEB-INF/appengine-generated/local_db.bin', '-Dappengine.fullscan.seconds=5']

        port = 8080
    }

    stage {
        enableJarClasses = true
    }

    deploy{
        stopPreviousVersion = false
        promote = false
        projectId = "blogengine"
        version = "alpha"
    }
}

sourceCompatibility = 1.8

